LIBPNGPM=lib/Image/PNG/Libpng.pm
PNGPM=lib/Image/PNG.pm

TOUT=lib/Image/PNG.pm lib/Image/PNG/Container.pm \
	$(LIBPNGPM) perl-libpng.c Libpng.xs \
	Makefile.PL META.json META.yml typemap t/PLTE.t
TIN=    tmpl/Libpng.pm.tmpl \
	tmpl/libpng_doc \
	build/LibpngInfo.pm \
	tmpl/author tmpl/config \
	tmpl/perl-libpng.c.tmpl \
	tmpl/Libpng.xs.tmpl \
	tmpl/Libpng.t.tmpl \
	tmpl/Const.t.tmpl \
	tmpl/PLTE.t.tmpl \
	tmpl/PNG.t.tmpl \
	tmpl/PNG.pm.tmpl \
	tmpl/Container.pm.tmpl \
	tmpl/typemap.tmpl \
	tmpl/Util.pm.tmpl \
	tmpl/Makefile.PL.tmpl \
	tmpl/other_modules \
	build/make-files.pl

HTML=/usr/local/www/data/image-png-libpng.html
HTML2=/usr/local/www/data/image-png.html


all:	start
	make
	make test

start:	$(TOUT) Makefile

Makefile:	Makefile.PL
	perl Makefile.PL

$(TOUT): $(TIN)
	build/make-files.pl

HTML:	$(LIBPNGPM)
	perldoc -o html $(LIBPNGPM) > $(HTML)

HTML2:	$(PNGPM)
	perldoc -o html $(PNGPM) > $(HTML2)

clean:
	-make clean
	-rm -rf $(TOUT) Makefile.old perl-libpng.h my-xs.h MANIFEST
	-rm -rf Image-PNG-0.*/ Image-PNG-0.*.tar.gz

# Local Variables:
# mode: makefile
# End:
